<div class="lcu-data-apps-config-manager" *ngIf="State">
  <ng-container *ngIf="State.Loading">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
  </ng-container>
  <mat-toolbar>
    <button mat-icon-button (click)="drawer.toggle()">
      <mat-icon>menu</mat-icon>
    </button>
    <h2>Data Applications</h2>
    <span class="filler"></span>
  
    <div>
      <button *ngIf="!State.AddingApp" mat-flat-button matTooltip="Create a new application"color="accent">
        <mat-icon>add_circle</mat-icon>
        Add New Data App
      </button>
      <button 
        *ngIf="State.AddingApp" mat-flat-button matTooltip="Cancel new application"color="warn">
        <mat-icon>cancel</mat-icon>
        Cancel Add New
      </button>
    </div>
    
  </mat-toolbar>

  <mat-drawer-container class="drawer">
    <mat-drawer mode="side" #drawer opened>

      <div fxLayout="column" fxLayoutGap="3px">

        <mat-tab-group>
          <!-- Public Applications -->
          <mat-tab> 
            <ng-template matTabLabel>
              <span matBadge="{{ PublicDataSource.length }}" 
                    matBadgeOverlap="false">Public Apps</span>
            </ng-template>
            <lcu-app-list 
              [app-data] = PublicDataSource 
              (selected-app)="SetActiveApp($event)">
            </lcu-app-list> 
          </mat-tab>

          <!-- Private Applications -->
          <mat-tab *ngIf="PrivateDataSource.length > 0"> 
            <ng-template matTabLabel>
              <span matBadge="{{ PrivateDataSource.length }}" 
                    matBadgeOverlap="false">Private Apps</span>
            </ng-template>
            <lcu-app-list 
              [app-data] = PrivateDataSource 
              (selected-app)="SetActiveApp($event)">
            </lcu-app-list>   
          </mat-tab>
        </mat-tab-group>
      </div>
    </mat-drawer>

    <!--Content-->
    
    <mat-drawer-content>
      <div>
        <lcu-data-apps-config *ngIf="State.ActiveApp"></lcu-data-apps-config>
      </div>
    </mat-drawer-content>
</mat-drawer-container>
</div>